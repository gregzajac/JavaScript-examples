[{"C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\index.js":"1","C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\App.js":"2","C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\reportWebVitals.js":"3","C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\components\\movie-list.js":"4","C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\components\\movie-details.js":"5","C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\components\\movie-form.js":"6","C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\api-service.js":"7","C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\components\\auth.js":"8"},{"size":890,"mtime":1608544669661,"results":"9","hashOfConfig":"10"},{"size":2414,"mtime":1608548041203,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"10"},{"size":1414,"mtime":1608545906920,"results":"13","hashOfConfig":"10"},{"size":2833,"mtime":1608545919289,"results":"14","hashOfConfig":"10"},{"size":1935,"mtime":1608545944916,"results":"15","hashOfConfig":"10"},{"size":1673,"mtime":1608558230234,"results":"16","hashOfConfig":"10"},{"size":2077,"mtime":1608558457581,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1io08ba",{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\index.js",[],["36","37"],"C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\App.js",["38","39"],"import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport MovieList from './components/movie-list';\nimport MovieDetails from './components/movie-details';\nimport MovieForm from './components/movie-form';\nimport { useCookies } from 'react-cookie';\n\nfunction App() {\n\n  const [movies, setMovies] = useState([]);\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [editedMovie, setEditedMovie] = useState(null);\n  const [token] = useCookies(['mr-token']);\n\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/api/movies/\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token['mr-token']}`\n      }\n    })\n    .then( resp => resp.json())\n    .then( resp => setMovies(resp))\n    .catch( error => console.log(error))\n  }, [])\n\n  useEffect(() => {\n    if(!token['mr-token']) window.location.href = '/';\n  }, [])\n\n\n  const loadMovie = movie => {\n    setSelectedMovie(movie);\n    setEditedMovie(null);\n  }\n\n  const editClicked = movie => {\n    setEditedMovie(movie);\n    setSelectedMovie(null);\n  }\n\n  const updatedMovie = movie => {\n    const newMovies = movies.map( mov => {\n      if (mov.id === movie.id) {\n        return movie;\n      }\n      return mov;\n    })\n    setMovies(newMovies);\n  }\n\n  const newMovie = () => {\n    setEditedMovie({title: '', description: ''});\n    setSelectedMovie(null);\n  }\n\n  const movieCreated = movie => {\n    const newMovies = [...movies, movie];\n    setMovies(newMovies);\n  }\n\n  const removeClicked = movie => {\n    const newMovies = movies.filter(mov => mov.id !== movie.id)\n    setMovies(newMovies);\n  }  \n\n  return (\n    <div className=\"App\">\n\n      <header className=\"App-header\">\n        <h1>Movie rater</h1>\n      </header>\n\n      <div className=\"layout\">\n        <div>\n          <MovieList \n            movies={movies} \n            movieClicked={loadMovie} \n            editClicked={editClicked}\n            removeClicked={removeClicked}\n          />\n          <button onClick={newMovie}>New movie</button>\n        </div>\n\n        <MovieDetails \n          movie={selectedMovie} \n          updateMovie={loadMovie}\n        />\n\n        { editedMovie ? \n          <MovieForm \n            movie={editedMovie} \n            updatedMovie={updatedMovie} \n            movieCreated={movieCreated}\n          /> : null \n        }\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\reportWebVitals.js",[],"C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\components\\movie-list.js",[],"C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\components\\movie-details.js",[],"C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\components\\movie-form.js",[],"C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\api-service.js",[],"C:\\python\\github_repos\\JavaScript-examples\\react-movie-rater\\src\\components\\auth.js",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":26,"column":6,"nodeType":"46","endLine":26,"endColumn":8,"suggestions":"47"},{"ruleId":"44","severity":1,"message":"45","line":30,"column":6,"nodeType":"46","endLine":30,"endColumn":8,"suggestions":"48"},"no-native-reassign",["49"],"no-negated-in-lhs",["50"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.","ArrayExpression",["51"],["52"],"no-global-assign","no-unsafe-negation",{"desc":"53","fix":"54"},{"desc":"53","fix":"55"},"Update the dependencies array to be: [token]",{"range":"56","text":"57"},{"range":"58","text":"57"},[826,828],"[token]",[911,913]]